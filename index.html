<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trendify - Your Trendy Shopping Destination</title>
  <link rel="stylesheet" href="css/main.css">
  <style>
    .hero {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      padding: 4rem 0;
      text-align: center;
    }
    
    .hero h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
    }
    
    .hero p {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      opacity: 0.9;
    }
    
    .features-section {
      padding: 4rem 0;
      background: white;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }
    
    .feature-card {
      text-align: center;
      padding: 2rem;
      border-radius: var(--border-radius);
      background: var(--light-gray);
      transition: var(--transition);
    }
    
    .feature-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-md);
    }
    
    .feature-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }
    
    .feature-card h3 {
      color: var(--dark-color);
      margin-bottom: 1rem;
    }
    
    .feature-card p {
      color: var(--medium-gray);
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container">
      <a href="index.html" class="logo">
        üõí Trendify
      </a>
      
      <nav>
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="categories.html">Categories</a></li>
          <li><a href="wishlist.html">Wishlist</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="about.html">About</a></li>
        </ul>
      </nav>

      <div class="header-actions">
        <div class="search-box">
          <input type="text" class="search-input" placeholder="Search products..." id="headerSearch">
          <button class="search-btn" onclick="performSearch()">üîç</button>
        </div>
        
        <a href="cart.html" class="cart-icon">
          üõí
          <span class="cart-count">0</span>
        </a>
        
        <div id="userActions">
          <a href="login.html" class="btn btn-outline">Login</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1>Welcome to Trendify</h1>
      <p>Discover amazing products at unbeatable prices</p>
      <a href="categories.html" class="btn btn-secondary">Shop Now</a>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section">
    <div class="container">
      <h2 class="section-title">Why Choose Trendify?</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üöö</div>
          <h3>Free Shipping</h3>
          <p>Free delivery on orders above ‚Çπ999</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üîí</div>
          <h3>Secure Payment</h3>
          <p>Your transactions are completely secure</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚Ü©Ô∏è</div>
          <h3>Easy Returns</h3>
          <p>30-day hassle-free return policy</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚≠ê</div>
          <h3>Quality Products</h3>
          <p>Curated selection of high-quality items</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Products -->
  <section class="section">
    <div class="container">
      <h2 class="section-title">Featured Products</h2>
      <p class="section-subtitle">Hand-picked products just for you</p>
      
      <div class="category-filters">
        <button class="filter-btn active" onclick="filterProducts('all')">All</button>
        <button class="filter-btn" onclick="filterProducts('clothing')">Clothing</button>
        <button class="filter-btn" onclick="filterProducts('electronics')">Electronics</button>
        <button class="filter-btn" onclick="filterProducts('accessories')">Accessories</button>
      </div>
      
      <div class="product-grid" id="featuredProducts">
        <div class="spinner"></div>
      </div>
      
      <div style="text-align: center; margin-top: 2rem;">
        <a href="categories.html" class="btn btn-primary">View All Products</a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>Trendify</h3>
          <p>Your one-stop shop for trendy products at amazing prices.</p>
        </div>
        
        <div class="footer-section">
          <h3>Quick Links</h3>
          <a href="index.html">Home</a>
          <a href="categories.html">Categories</a>
          <a href="about.html">About Us</a>
          <a href="contact.html">Contact</a>
        </div>
        
        <div class="footer-section">
          <h3>Customer Service</h3>
          <a href="#">Help Center</a>
          <a href="#">Shipping Info</a>
          <a href="#">Returns</a>
          <a href="#">Size Guide</a>
        </div>
        
        <div class="footer-section">
          <h3>Connect</h3>
          <a href="#">Facebook</a>
          <a href="#">Instagram</a>
          <a href="#">Twitter</a>
          <a href="#">YouTube</a>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; 2025 Trendify. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/utils.js"></script>
  <script src="js/products.js"></script>
  <script src="js/cart.js"></script>
  <script>
    // Initialize managers
    const productManager = new ProductManager();
    const cartManager = new CartManager();
    
    let currentFilter = 'all';

    // Initialize page
    document.addEventListener('DOMContentLoaded', () => {
      loadFeaturedProducts();
      checkUserAuth();
      Utils.animateOnScroll();
    });

    function loadFeaturedProducts() {
      const featuredGrid = document.getElementById('featuredProducts');
      
      setTimeout(() => {
        let products = productManager.getFeaturedProducts();
        
        if (currentFilter !== 'all') {
          products = products.filter(p => p.category === currentFilter);
        }
        
        const productsHTML = products.map(product => Utils.generateProductCard(product)).join('');
        featuredGrid.innerHTML = productsHTML;
        
        Utils.animateOnScroll();
      }, 500);
    }

    function filterProducts(category) {
      currentFilter = category;
      
      // Update filter buttons
      document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      loadFeaturedProducts();
    }

    function performSearch() {
      const searchValue = document.getElementById('headerSearch').value.trim();
      if (searchValue) {
        window.location.href = `categories.html?search=${encodeURIComponent(searchValue)}`;
      }
    }

    // Global functions for product interactions
    window.addToCart = function(productId) {
      cartManager.addToCart(productId);
    };

    window.toggleWishlist = function(productId) {
      if (cartManager.isInWishlist(productId)) {
        cartManager.removeFromWishlist(productId);
      } else {
        cartManager.addToWishlist(productId);
      }
      loadFeaturedProducts(); // Refresh to update wishlist icons
    };

    window.quickView = function(productId) {
      const product = productManager.getProductById(productId);
      if (product) {
        alert(`Quick view for ${product.name} would open in a modal`);
      }
    };

    window.viewProduct = function(productId) {
      const product = productManager.getProductById(productId);
      if (product) {
        localStorage.setItem("selectedProduct", JSON.stringify(product));
        window.location.href = "product.html";
      }
    };

    function checkUserAuth() {
      const currentUser = Utils.getLocalStorage('trendify_current_user', null);
      const userActions = document.getElementById('userActions');
      
      if (currentUser) {
        userActions.innerHTML = `
          <span>Hi, ${currentUser.firstName}!</span>
          <button class="btn btn-outline" onclick="logout()">Logout</button>
        `;
      }
    }

    window.logout = function() {
      localStorage.removeItem('trendify_current_user');
      cartManager.showNotification('Logged out successfully!', 'info');
      setTimeout(() => window.location.reload(), 1000);
    };
  </script>
</body>
</html>
